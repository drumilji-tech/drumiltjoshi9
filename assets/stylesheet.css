/* Table of Contents
–––––––––––––––––––––––––––––––––––––––––

  Variables
  Base Styles

  Modified Dash Styles
  Modified Plotly Styles
  Modified Dash Boostrap Component Styles

  Download Buttons
  Cards and Wrappers
  Sticky Header and Global Controls
  Chart Title and Controls
  Treemap and Subcharts
  Custom Tooltip
  Miscellany
  Media Queries

*/


/* Variables
–––––––––––––––––––––––––––––––––––––––––––––––––– */

:root {
  --header-height: 60px;
  --background-content: #020202;
  --text: #DFDFDF;
  
  --southernpower-red: #EB1B24;
  --southernpower-blue: #02BCF0;
  --southernpower-lightblue: #007CB8;
  --southernpower-green: #B3D237;
  --page-background-color: #111;

  --border-radius: 8px;
  --card-padding: 0.5rem;

  --spinner-bounding-box-width: 80px;
  --spinner-width: 16px;
  --spinner-period: 1s;
}


/* Base Styles
–––––––––––––––––––––––––––––––––––––––––––––––––– */

* {
  font-family: Oswald !important;
  font-weight: 300;
}

body {
  padding: 0;
  margin: 0;
  background-color: var(--background-content);
  color: var(--text);
}


/* Modified Dash Styles
–––––––––––––––––––––––––––––––––––––––––––––––––– */

.dropdown-label {
  font-weight: 300 !important;
}

[data-dash-is-loading="true"]{
    animation-name: easeIn;
    animation-delay: 0.5s;
    animation-duration: 1s;
    animation-fill-mode: forwards;
    animation-timing-function: linear;
}
[data-dash-is-loading="true"] * {
    pointer-events: none !important;
}
@keyframes easeIn {
  0% {
    opacity: 1;
    cursor: wait;
  }
  100% {
    opacity: 0.3;
    cursor: wait;
  }
}

.dash-dropdown {
  color: #949494;
  background-color: #212121;
}
.dash-dropdown * {
  color: #949494;
  background-color: #212121;
}
.Select-menu-outer {
  color: red;
}
.Select div {
    background-color: #212121;
    cursor: pointer;
}
.Select-menu-outer div:hover {
    background-color: #292929;
}
.Select-value-label {
  color: var(--text) !important;
}
.Select-control {
  border: 0 solid rgba(0,0,0,0) !important;
}

.rc-slider-track {
  background-color: var(--southernpower-lightblue);
}
.rc-slider-dot-active {
  background-color: var(--southernpower-lightblue);
  border-width: 0px;
}
.rc-slider-handle {
  background-color: var(--southernpower-lightblue);
  border-width: 0px;
}

/*
  Ensure that when you click in a dcc.Dropdown
  to open the contained menu, we don't see a white
  rectangle that appears inside the space where
  the selected values sit.
*/
.is-open>.Select-control {
  background-color: rgba(0,0,0,0) !important;
}

.tab {
  background-color: #171717 !important;
  color: white !important;
  opacity: 0.3;
  border-bottom: 0 solid black !important;
  border-top: 2px solid #171717 !important;
  border-left: 0 solid black !important;
  border-right: 0 solid black !important;
  transition: 0.2s !important;
}

.tab--selected {
 color: white !important;
 opacity: 1;
 border-top: 2px solid var(--southernpower-blue) !important;
}

.tab:hover {
  opacity: 1;
}

.tab-content {
  padding: 2rem;
}


/* Date Range Picker */

.DateRangePickerInput.DateRangePickerInput_1.DateRangePickerInput__withBorder.DateRangePickerInput__withBorder_2 {
  background-color: #212121 !important;
}
.DateInput_input {
  background-color: #212121 !important;
  color: var(--text);
  /*
    Note: We want the height of the Date Selector
    to hit 34px to match dropdowns, so we adjust
    the culprit, the padding, and add the right
    amount to get us there.
  */
  padding: 4px;
}
.DateRangePicker {
  background-color: #212121 !important;
}
/* the right arrow that points from start to end date */
.DateRangePickerInput_arrow_svg {
  fill: var(--text) !important;
}


/* Calendar Picker - The Calendar that appears when you click a dcc.DateRangePicker */

.DayPicker_transitionContainer {
  outline: 2px solid #252525;
  border-radius: 0;
}
.CalendarDay__blocked_out_of_range {
  opacity: 0.1;
}
input.DateInput_input.DateInput_input_1 {
  text-align: center !important;
}

.DayPicker_transitionContainer.DayPicker_transitionContainer_1.DayPicker_transitionContainer__horizontal.DayPicker_transitionContainer__horizontal_2 {
  background-color: #252525 !important;
}
.CalendarMonthGrid.CalendarMonthGrid_1.CalendarMonthGrid__horizontal.CalendarMonthGrid__horizontal_2 {
  background-color: #252525 !important;
}
.CalendarDay:not(.CalendarDay__selected, .CalendarDay__selected_span) {
  background-color: #191919 !important;
}
.CalendarMonth {
  background-color: #252525 !important;
}
.DayPickerNavigation_button__default {
  background-color: #252525 !important;
}
.DayPickerKeyboardShortcuts_buttonReset {
  visibility: hidden !important;
}

/* Make the text on selectable cells look more 'clickable' */
.CalendarDay.CalendarDay_1.CalendarDay__default.CalendarDay__default_2:not(.CalendarDay__blocked_out_of_range) {
  color: var(--text);
}
/* Make text in lighter calendar squares visible */
.CalendarDay__selected_span {
  color: #222 !important;
}
/* Make the title caption readible in dark mode */
.CalendarMonth_caption.CalendarMonth_caption_1 {
  color: var(--text);
}
/* Style the arrow */
.DateInput_fangStroke.DateInput_fangStroke_1 {
  fill: #252525;
  stroke: #252525;
}



/* Modified Plotly Styles
–––––––––––––––––––––––––––––––––––––––––––––––––– */

rect.rangeslider-mask-max {
  fill-opacity: 0.6 !important;
}
rect.rangeslider-mask-min {
  fill-opacity: 0.6 !important;
}


/* Modified Dash Boostrap Component Styles
–––––––––––––––––––––––––––––––––––––––––––––––––– */

.navbar-brand {
  font-size: 2rem !important;
  font-weight: 300;
}

.container, .container-fluid, .container-lg, .container-md, .container-sm, .container-xl, .container-xxl {
  padding-left: 0;
  padding-right: 0;
}


/* Download Buttons
–––––––––––––––––––––––––––––––––––––––––––––––––– */

.download-btn {
  background-color: var(--southernpower-lightblue);
  color: var(--text);
  border: 0px solid red;
  border-radius: 2px;
}
.inverted-download-btn {
  background-color: inherit;
  color: var(--southernpower-blue);
  border: 1px solid var(--southernpower-lightblue);
  border-radius: 2px;
  box-sizing: border-box;
}
#download-temp-treemap-btn.download-btn {
  margin-right: 0.25rem;
  margin-bottom: 0.25rem;
}


/* Cards and Wrappers
–––––––––––––––––––––––––––––––––––––––––––––––––– */

.wrap {
  background-color: var(--page-background-color);
  border-radius: var(--border-radius);
}
.card {
  margin: 1rem;
  padding: var(--card-padding);
}
.preheader {
  position: sticky;
  z-index: 1000;
  top: 0;
  background-color: #171717;
  box-shadow: 0 0 15px rgba(0,0,0,0.6);
  padding: calc(2 * var(--card-padding)) calc(var(--card-padding) + 1rem);
  padding-bottom: 0.5rem;
}
.splash-page-card {
  margin-top: 2rem;
  font-size: 2rem;
  height: 15vh;
  line-height: 15vh;
  color: #A9A9AB;
  text-align: center;
  border: 1px solid #333336;
  background: radial-gradient(rgb(30,30,33), var(--background-content));
  border-radius: var(--border-radius);
  transition: 0.2s;
}
.splash-page-card:hover {
  color: #CBCBCD;
  border-color: #CBCBCD;
}



/* Sticky Header and Global Controls
–––––––––––––––––––––––––––––––––––––––––––––––––– */

.toggle-top-panel-btn {
  cursor: pointer;
  font-size: 1.25rem;
  background-color: #212121;
  border-radius: var(--border-radius);
  padding: 0 0.5rem;
  color: var(--text);
  outline: 0px solid red;
  border: 0px solid red;
  transition: 0.1s;
  margin-left: 12px;
  transform: translateY(-3px);
}
.toggle-top-panel-btn:hover {
  color: var(--southernpower-blue);
}

.collapsed-top-panel {
  height: 0 !important;
  visibility: hidden !important;
}
.collapsed-top-panel * {
  height: 0 !important;
  visibility: hidden !important;
}

.header {
  height: var(--header-height);
  display: flex;
  flex-direction: row;
  justify-content: space-between;
  align-content: end;
}
.header div.logo-title-box {
  display: flex;
  flex: 0.6;
  flex-direction: row;
}

.header .logo-box {
  width: var(--header-height);
  height: var(--header-height);
}
.logo-box img {
  width: 100%;
  height: 100%;
}
.header .title-box {
  width: calc(100% - 60px);
  align-self: end;
}
.header div.dropdown-box {
  flex: 0.3;
  max-width: 200px;
}

.control-panel {
  display: flex;
  flex-direction: row;
  justify-content: flex-start;
  align-items: end;
  margin-left: 0 !important;
  margin-right: 0 !important;
  padding-left: 0.25rem !important;
  padding-right: 0.25rem !important;
}
.control-panel div.component-dropdown-box {
  display: flex;
  flex-direction: column;
  width: 200px;
}
.control-panel div.date-rangeslider-box {
  display: flex;
  flex: 3;
  margin-left: 1rem;
}

#component-dropdown {
  width: 200px;
}
#date-rangeslider {
  width: 100%;
  padding-left: 0 !important;
  padding-right: 0 !important;
}
#custom-date-range-selections {
  display: inline-block;
  width: calc(100% - 130px - 130px - 30px);
  transform: translate(0, 14px);
  border-radius: 20px !important;
}

/* Date Picker and Custom Date Selection */
#date-selector-box {
  margin-top: 20px;
}
#date-picker-range {
  display: inline-block;
}

/* Page Navigation Links */
a.nav-link {
  background-color: #212121;
  color: var(--text);
  text-decoration: none !important;
  border-radius: var(--border-radius);
  padding: 0.25rem;
  transition: 0.1s;
  text-align: center;
}
a.nav-link.active {
  /* background-color: var(--southernpower-lightblue); */
  background-color: var(--southernpower-green);
  display: block;
  /* color: var(--text); */
  color: #000;
}
a.nav-link:hover:not(.active) {
  background-color: #333333;
  display: block !important;
  color: var(--text);
}
a.nav-link:not(.active) {
  display: block;
  color: #999;
}

.navlink {
  font-size: 1.25rem;
  text-decoration: none !important;
  color: var(--text) !important;
  padding: 1rem;
  padding-bottom: 0;
}
.navitem.active {
  text-align: center !important;
}


/* Chart Title and Controls
–––––––––––––––––––––––––––––––––––––––––––––––––– */

.title-and-controls {
  display: flex;
  flex-direction: row;
  justify-content: space-between;
}
.title-and-controls .chart-control {
  align-self: end;
}

.title-box .title {
  display: block;
  font-size: 2.65rem;
  padding: 0;
  margin: 0;
  font-weight: 500;
  transform: translateY(7px);
}
.chart-title {
  align-self: end;
}
.chart-title .title {
  font-size: 1.5rem;
  font-weight: 400;
}
.chart-title .subtitle {
  font-size: 1rem;
  font-weight: 100;
}

/*
  We add space to the left of the power performance
  metric radiobuttons (i.e. `#sort-by`). The reason
  for the space is when there is another inline
  component floating next to it.

  We want to maintain the visual spacing so each
  component is separated from its neighbor.
*/
#sort-by.right-floating-control {
  padding-left: 1em;
}
.right-floating-control {
  float: right;
}

.under-over-perform {
  display: block;
  float: right;
}

.acknowledged-pp-turbines {
  width: 700px;
}

/* Spotlight button to update the weather station tornados  */
.spotlight-btn {
  margin-left: 1rem;
  cursor: pointer;
}

.spotlight-btn:hover {
  opacity: 0.8;
}


/* Treemap and Subcharts
–––––––––––––––––––––––––––––––––––––––––––––––––– */


/* Component Temperature Chart Tooltip */
span#treemap-tooltip {
  background-color: #171717 !important;
  opacity: 0.9;
}

span#treemap-tooltip p.parenthetical {
  color: #bbb !important;
  font-weight: 100 !important;
  transform: translateX(1rem);
}

span#treemap-tooltip b {
  font-weight: 900 !important;
}

.treemap-subcharts-container {
  display: flex;
  flex-direction: column;
  margin-bottom: 0 !important;
}

.is-open {
  opacity: 1;
  pointer-events: auto !important;
  visability: visible;
  display: auto;
}
.is-closed {
  visability: hidden;
  opacity: 0;
  pointer-events: none !important;
  display: none;
}

/*
  Since the heatmap (`#heatmap-box`) is absolutely
  positioned, it does not sit inside the cascade
  of CSS items; plainly, it doesn't push down
  anything below it.

  Thus, when the heatmap is on screen, we must add
  bottom margin to its parent container so that the
  parent does the adequete pushing.

  The amount of margin is proportional to the height
  of the heatmap.
*/
#heatmap-box, #heatmap-box2, #heatmap-box3, #heatmap-box4, #tr-heatmap-box {
  position: absolute !important;
  padding: 0 !important;
  margin: 0 !important;
  background-color: #171717 !important;
  box-shadow: 0 0 var(--border-radius) rgba(0,0,0,1) !important;
  border-radius: var(--border-radius) !important;
  z-index: 100 !important;
}
#heatmap-box, #tr-heatmap-box {
  width: calc(100% - 168px) !important;
  transform: translate(0, 80px) !important;
}
#heatmap-box2 {
  width: calc(100% - 168px - 25px) !important;
  transform: translate(40px, 135px) !important;
}
#heatmap-box3 {
  width: calc(100% - 168px) !important;
  transform: translate(0px, 50px) !important;
}
#heatmap-box4 {
  width: calc(100% - 168px) !important;
  transform: translate(0px, 50px) !important;
}

.bottom-margin {
  margin-bottom: 200px !important;
}
.bottom-margin2 {
  margin-bottom: 0 !important;
}
.bottom-margin3 {
  margin-bottom: 0 !important;
}


/* Custom Tooltip
–––––––––––––––––––––––––––––––––––––––––––––––––– */

.graph-tooltip {
  font-size: 0.8rem;
  border: 1px solid black;
  color: black;
  font-family: "Oswald";
  opacity: 0.85;
  z-index: 90000;
}
.graph-tooltip table {
	width: 100%;
	border-spacing: 0;
}
.graph-tooltip table th {
	border-bottom: 2px solid black;
}
.graph-tooltip table td {
	border-left: 1px solid black;
	border-right: 1px solid black;
}

/* Curate the visual hierarchy across the copy in the tooltip */
.graph-tooltip b, .graph-tooltip p {
	padding: 0;
	margin: 0;
}
.graph-tooltip b {
  font-size: 1.2em;
  font-weight: 900;
}
.graph-tooltip th {
  font-weight: 400;
}
.graph-tooltip td {
  font-weight: 400;
}
.graph-tooltip p {
  font-weight: 400;
}
.graph-tooltip span {
  font-weight: 400;
  color: #333;
}


/* Miscellany
–––––––––––––––––––––––––––––––––––––––––––––––––– */

.fault-control-box {
  display: flex;
  justify-content: end;
}

/*
  Make space above yaw chart to keep consistent
  with other title-chart spacings.
*/
.yaw-error-chart {
  margin-top: 1rem;
}

.metric-tooltip {
  max-width: 500px;
  white-space: normal;
  background-color: #171717;
  box-shadow: 0 0 15px rgba(0,0,0,0.6);
  padding: var(--card-padding);
  opacity: 0.9;
  border: 1px solid var(--text);
  color: var(--text);
  z-index: 10000;
}

.unselectable {
  -webkit-user-select: none; /* Safari */
  -moz-user-select: none; /* Firefox */
  -ms-user-select: none; /* Internet Explorer */
  -khtml-user-select: none; /* Safari */
  user-select: none; /* Standard syntax */
}

.disabled-strong {
  opacity: 0.5;
  pointer-events: none;
  cursor: not-allowed;
}

.disabled {
  opacity: 0.3;
  cursor: not-allowed;
}
/* Disable pointer events until loading fully completes. */
.disabled * {
  pointer-events: none;
}


/* Media Queries
–––––––––––––––––––––––––––––––––––––––––––––––––– */

@keyframes spin {
  0% {
    transform: rotate(0deg);
  }
  100% {
    transform: rotate(360deg);
  }
}

@keyframes fadein {
    0% {
        opacity: 0;
    }
    100% {
        opacity: 1;
    }
}
